<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library of Dion | Cloudflare Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;800&family=Inter:wght@400;600;900&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'], mono: ['JetBrains Mono', 'monospace'] },
                    colors: { obsidian: '#09090b', charcoal: '#18181b', accent: '#6366f1' }
                }
            }
        }
    </script>
    <style>
        body { background-color: #050505; color: #fff; }
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #18181b; }
        ::-webkit-scrollbar-thumb { background: #3f3f46; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #6366f1; }
        
        .game-card { transition: transform 0.2s, box-shadow 0.2s; }
        .game-card:hover { transform: translateY(-4px); box-shadow: 0 10px 30px -10px rgba(99,102,241,0.4); }
        
        .loader {
            width: 48px; height: 48px;
            border: 5px solid #FFF;
            border-bottom-color: #6366f1;
            border-radius: 50%; display: inline-block;
            box-sizing: border-box; animation: rotation 1s linear infinite;
        }
        @keyframes rotation { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="h-screen flex flex-col overflow-hidden">

    <!-- Header -->
    <header class="h-16 border-b border-white/10 bg-obsidian flex items-center justify-between px-6 z-20">
        <div class="flex items-center gap-3">
            <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
            <h1 class="text-xl font-bold tracking-tight">LIBRARY_OF_DION <span class="text-xs font-mono text-slate-500 bg-slate-900 px-2 py-0.5 rounded">CF-PAGES</span></h1>
        </div>
        
        <div class="flex items-center gap-4">
            <div class="relative">
                <input type="text" id="search" placeholder="Search Database..." 
                    class="bg-charcoal border border-white/10 rounded-md py-1.5 px-3 text-sm focus:outline-none focus:border-accent w-64 transition-all focus:w-80">
                <div class="absolute right-3 top-1.5 text-xs text-slate-500">CTRL+K</div>
            </div>
            <button onclick="pickRandom()" class="bg-accent hover:bg-indigo-500 text-white px-4 py-1.5 rounded-md text-sm font-bold transition">RANDOM</button>
        </div>
    </header>

    <!-- Main Content -->
    <div class="flex-1 flex overflow-hidden">
        <!-- Sidebar -->
        <nav id="sidebar" class="w-16 bg-charcoal border-r border-white/5 flex-col items-center py-4 gap-2 overflow-y-auto hidden md:flex">
            <!-- Injected JS -->
        </nav>

        <!-- Grid Area -->
        <main class="flex-1 overflow-y-auto p-6 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-slate-900 to-black" id="main-area">
            
            <!-- Favorites Section -->
            <div id="fav-section" class="mb-8 hidden">
                <h2 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-4">Favorites</h2>
                <div id="fav-grid" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"></div>
            </div>

            <!-- Games Grid -->
            <div id="games-container"></div>
            
            <div class="h-20"></div> <!-- Spacer -->
        </main>
    </div>

    <!-- Lightbox Modal -->
    <div id="modal" class="fixed inset-0 z-50 bg-black/95 hidden flex-col">
        <div class="h-12 bg-charcoal border-b border-white/10 flex items-center justify-between px-4">
            <span id="modal-title" class="font-mono font-bold">GAME</span>
            <div class="flex gap-2">
                <button onclick="toggleFS()" class="text-slate-400 hover:text-white px-3 py-1 text-xs font-bold">[ FULLSCREEN ]</button>
                <button onclick="closeModal()" class="bg-red-600/20 text-red-400 hover:bg-red-600 hover:text-white px-4 py-1 rounded text-xs font-bold transition">CLOSE</button>
            </div>
        </div>
        <div class="flex-1 relative">
            <div id="loader" class="absolute inset-0 flex items-center justify-center pointer-events-none">
                <span class="loader"></span>
            </div>
            <iframe id="game-frame" class="w-full h-full border-0" allowfullscreen></iframe>
        </div>
    </div>

    <script>
        // CONFIGURATION FOR CLOUDFLARE PAGES
        // Since index.html is in the root, and games are in UGS-Files folder:
        const BASE_PATH = './UGS-Files/'; 
        
        // THE MASTER LIST
        // Required because we can't scan directories on static hosting easily
        const GAMES = [
          'cl1','cl1v1lol','cl2048','cl2doom','cl3slices2','cl40escape','cl40exescape','cl40xescape','cl4thandgoal','cl60secondsburgerrun','cl60secondssantarun','cl60secsantarun','cl8ballclassic','cl8ballpool','cl99balls','clabandoned','clabandoned3','clabsolutemadness','clacecombat2','clacecombat3','clacegangstertaxi','clachievementunlocked','clachievmentunlocked','clachievmentunlocked2','clachievmentunlocked3','clachillies','clachillies2','clADarkRoom','cladayintheoffice','clADOFAI','cladvancewars','cladvancewars2','cladventneon','clagariolite','clageofwar','clageofwar2','clagesofconflict','clahoysurvival','clai','clakoopasrevenge','clakoopasrevenge2','clakumanorgaiden','clalienhominid','clalienhominidgba','clalienskyinvasion','clalientransporter','clalienvspredator','clallocation','clamaze','clamidstthesky','clamigopancho','clamigopancho2','clamigopancho3','clamigopancho4','clamigopancho5','clamigopancho6','clamigopancho7','clamongus','clamorphous','clancientsins','clangrybirds','clangrybirdsshowdown','clangrybirdsspace','clanimalcrossingwildworld','clanothervoid','clapotris','clappleshooter','clappleworm','claquaparkio','clarceuslegend','clarcheryworldtour','clarena','clarewethereyet','clarmormayhem2','clarsonate','clascent','clasmallworldcup','classesmentexaminationque','clasteroids','clattackhole','clavalanche','claviamasters','claviamastersbuggy','clAwesomePirates','clawesomeplanes','clawesometanks','clawesometanks2','clB3313','clbabeltower','clbabychiccoadventure','clbabykaizo','clbackrooms','clbackrooms2D','clbackyardbaseball','clbackyardbaseball09','clbackyardbaseball10','clbackyardsoccer','clbaconmaydie','clbadicecream','clbadmondaysimulator','clbadparenting','clbadpiggies','clbadtimesim','clbadtimesimulator','clbaldidecomp','clbaldisbasics','clbaldisbasicsremaster','clbaldisfunnewschoolultimate','clballblast','clballlegend','clballsandbricks','clbananasimulator','clbanditgunslingers','clbanjokazooie','clbanjotooie','clbankbreakout2','clbankrobbery2','clbarryhasasecret','clbas','clbaseballbros','clbasketballfrvr','clbasketballlegends','clbasketballstars','clbasketbattle','clbasketbros','clbasketrandom','clbasketslamdunk2','clbatterup','clbattlekarts','clbattles','clbattlesim','clbattlezone','clbazookaboy','clbeamrider','clbearbarians','clben10alienforce','clben10omniverse','clben10protector','clben10racing','clben10ultimatealien','clbergentruck201x','clbigicetowertinysquare','clbigneontowertinysquare','clbigshotboxing','clbigtowertinysquare','clbigtowertinysquare2','clBig_Time_Butter_Baron','clbindingofisaccsheeptime','clbioevil4','clbitlife','clbitlifeencrypted','clbitplanes','clblackjack','clblackjackbattle','clblacksmithlab','clblastronaut','clblazedrifter','clblobsstory2','clblockblast','clblockcraftparkour','clblockcraftshooter','clblockgydemolitionderby','clblockpost','clblockthepig','clblockysnakes','clbloodmoney','clbloodtournament','clbloons','clbloons2','clbloonslingers','clbloonspp1','clbloonspp2','clbloonspp3','clbloonspp4','clbloonspp5','clbloonsTD5V','clBTD1','clbtts','clbtts2','clbubbleshoote','clbubbleshootepirate','clbubbleshooter','clbubbletanks','clbubbletanks2','clbubbletanks3','clbubbletanksarenas','clbubbletankstd','clbubsy','clbuckshotroulette','clbuildnowgg','clbunnyland','clburgerandfrights','clburritobison','clburritobison2','clburritobisonlaunchalibre','clburritobisonrevenge','clbushidoblade','clcactusmccoy','clcactusmccoy2','clcannonballs3d','clcannonfodder','clcapybaraclicker','clcarcrash3','clcardrawing','clcareatscar2deluxe','clcarkingarena','clcarmods','clcarstuntsdriving','clCartoonNetworkTableTennisUltimateTournament','clcastlebloodline','clcastlecircleofmoon','clcastlevania','clcastlevania2','clcastlevania3','clcastlevaniaariaofsorrow','clcastlevanianes','clcastlewarsmodern','clcatmario','clcatslovecake2','clcavestory','clceleste','clceleste2','clcellardoor','clchaosfaction2','clcheckers','clcheesechompers3d','clcheshireinachatroom','clchess','clchessclassic','clchibiknight','clchickenscream','clchickenwar','clchipschallenge','clchoppyorc','clchronotrigger','clCircloO2','clciviballs','clciviballs2','clclashofvikings','clclassof09','clcleanupio','clclearvision','clclearvision2','clclearvision3','clclearvision4','clclearvision5','clclmadnessambulation','clclubbytheseal','clclusterrush','clcoalllcdemo','clcod4','clcodblackopp','clcodblackops','clcoddefiance','clcodenamegordon','clcodmodernwarfare','clcodworldatwar','clcoffeemaker','clcolorburst3d','clcolormatch','clcolorwatersort3d','clcombopool','clcommanderkeen4','clcommanderkeen5','clcommanderkeen6','clconkersbadfurday','clcontra','clcontra3','clcookieclicker','clcookieclickercool','clcookieclickergood','clcookingmama','clcookingmama2','clcookingmama3','clcoreball','clcotlk','clcountmastersstickmangames','clcountersnipe','clcrankit!','clcrashbandicoot','clcrashbandicoot2','clcrashteamracing','clcrazycars','clcrazycattle3d','clcrazychicken3D','clcreeperworld2','clcrossyroad','clcrunchball3000','clcsds','clcsgoclicker','clctgpnitro','clcurveball','clcuttherope','clcuttheropetimetravel','clcyberbungracing','clcybersensation','cldadnme','cldaggerfall','cldanktomb','cldborigins','cldborigins2','cldbsniper','cldbzattacksaiyans','cldbzdevolution','cldbzsuperwarriorssonic','cldeadestate','cldeadlydescent','cldeadplate','cldeadzed','cldeadzed2','cldeathchase','cldeblob2','cldecision','cldecision2','cldecision3','cldecisionmedieval','cldeepersleep','cldeepestsword','cldeepsleep','cldefendyourcastle','cldefendyournuts','cldefendyournuts2','cldelatraveler','cldeltarune','cldementium','cldemolitionderbycrashracing','cldiablo','cldiamondhollow','cldiamondhollow2','cldiddykongracing','cldieinthedungeon','cldigdeep','cldigdug','cldigdug2','cldigdug26','cldigtochina','cldinodudes','cldiredecks','cldoblox','cldogeminer','cldogeminer2','cldokidokiliteratureclub','cldonkeykong','cldonkeykong64','cldonkeykongcountry','cldonkeykongcountry2','cldonkeykongcountry3','cldonkeykongnes','cldontescape','cldontescape2','cldontescape3','cldoodlejump','cldoom','cldoom2','cldoom3pack','cldoom64','cldoomdos','cldoomemscripten','cldoomgallery','cldoomps','cldoompsalt','cldoomzio','cldouchebaglife','cldouchebagworkout','cldownthemountain','cldragonballadvance','clDragonBallZTheLegacyofGoku','clDragonQuestIX','cldrawclimber','cldrawtheline','cldreader','cldreadheadparkour','cldriftboss','cldrifthunters','cldrifthuntersmerge','cldrivemad','cldrivenwild','cldrmario','cldubstep','clduckhunt','clducklfe5','clducklife','clducklife2','clducklife3','clducklife4','clducklifebattle','clducklifespace','clducktales','cldud','cldukenukem3d','cldumpling','cldungeondeck','cldungeonraid','cldungeonsanddegenerategamblers','cldunkshot','clduskchild','cldyingdreams','cldynamiteheaddy','cleagleride','clearntodie','clearntodie2','clearthbound','clearthbound3','clearthboundsnes','clearthtaken','clearthtaken2','clearthtaken3','clearthwormjim','clearthwormjim2','cledelweiss','cledyscarsimulator','cleffinghail','cleffingmachines','cleffingworms','cleffingzombies','cleggycar','clelasticface','clelectricman2','clemulator','clenchain','clendlesswar4','clendlesswar5','clendlesswar5wow','clendlesswar7','clenduro','clepicbattlefantasy5','clescalatingduel','clescaperoad','clescaperoad2','clet','cletrianoddyssey','clevilglitch','clevolution','clexcitebike64','clextremerun3d','clfactoryballs','clfactoryballs2','clfactoryballs3','clfactoryballs4','clfairytalevsonepiece','clfamidash','clfancypantsadventure','clfancypantsadventure2','clfancypantsadventure3','clfancysnowboarding','clfashionbattle','clfattygenius','clfearstofathomhomealone','clfeedus','clfeedus2','clfeedus3','clfeedus4','clfeedus5','clFF3','clff6','clffmysticquest','clFFsonic1','clFFsonic2','clFFsonic3','clFFsonic4','clFFsonic5','clFFsonic61','clFFsonic62','clFIFA07','clFIFA10','clFIFA11','clFIFA2000(1)','clfifa2000','clFIFA99','clFIFAinternationalsoccer','clFIFAroadtoworldcup98','clFIFAsoccer06','clFIFAsoccer95','clFIFAsoccer96','clFIFAsoccer97','clFIFAstreet2','clfinalearth2','clfinalfantasy','clfinalfantasyII','clfinalfantasytactics','clfinalfantasyVI','clfinalfantasyVII','clfinalfantasyVIId2','clfinalfantasyVIId3','clfinalfantasyVIItheothertetrr','clfinalninja','clfireblob','clfireboyandwatergirl','clfireboyandwatergirl2','clfireboyandwatergirl3','clfireboyandwatergirl5','clfireboyandwatergirl6','clfireemblem','clfisquarium','clfivenightsatbaldisredone','clfivenightsatshrekshotel','clflappydunk','clfloodrunner','clfloodrunner2','clfloodrunner4','clfluidism','clfnac1','clfnac2','clFNAF','clFNAF2','clFNAF3','clFNAF4','clfnaf4halloween','clfnafanimatronics','clfnafps','clfnafsl','clfnafucn','clfnafworld','clfnafworldd','clfnfbside','clfnfhex','clfnfhypnoslullaby','clfnfindiecross','clfnfmidfight','clfnfmiku','clfnfneo','clfnfsky','clfnfsoft','clfnfsonicexe','clfnftricky','clfnfwhitty','clfnweedgaster','clfocus','clfolderdungeon','clfootballbros','clfootballlegends','clforknsausage','clfortzone','clfpa4p1','clfpa4p2','clfreerider','clfreerider2','clfreerider3','clfridaynightfunkin','clfromrusttoash','clfruitninja','clfunnybattle','clfunnybattle2','clfunnymadracing','clfunnyshooter2','clfunnyshooter22','clfzero','clfzerox','clgalaga','clgameandwatchcollection','clgangstabean','clgangstabean2','clgangsterbros','clgarcello','clgdlite','clgeneralchaos','clgenericfightermaybe','clgeometrydashlite','clgeometrydashscratch','clgeometryvibes','clgeorgeandtheprinter','clgetawayshootout','clgetontop','clGettothetopalthoughthereisnotop','clgetyoked','clghosttrick','clgimmietheairpod','clgladdihoppers','clgloryhunters','clglover','clgoalsouthafrica','clgobble','clgoingballs','clgolddiggerfrvr','clgoldeneye007','clgoldensun','clgoldensunnds','clGoldenSunTheLostAge','clgolforbit','clgolfsunday','clgoodboygalaxy','clgooglebaseball','clgoogledino','clgorescriptclassic','clgrandactionsimulator-ny','clgrandtheftautoadvance','clgranny','clgranny2','clgranny22','clgranny3','clgranturismo2','clgrassmowing','clgravitymod','clgrey-box-testing','clgrimacebirthday','clgrindcraft','clgrn','clgta','clgta2','clguesstheiranswer','clgunblood','clguncho','clgunknight','clgunmayhem','clgunmayhem2','clgunmayhem2goof','clgunmayhemredux','clgunnight','clgunsmoke','clgunspin','clgymstack','clhajimeippo','clhalflife','clhalocombatdevolved','clhandshakes','clhandulum','clhanger2','clhappyroom','clhappywheels','clhardwaretycoon','clHaroldsbadday','clharvestio','clharvestmoon','clharvestmoon64','clhauntthehouse','clhei$t','clhelixjump','clhelpnobrakes','clhero3flyingrobot','clhextris','clhighstakes','clhighwayracer2','clhighwaytraffic3d','clhillclimbracinglite','clhipsterkickball','clhit8ox','clhitsinglereal','clhl2doom','clhobo','clhobo2','clhobo3','clhobo4','clhobo5','clhobo6','clhobo7','clhobovszombies','clholeio','clhollowknight','clhouseofhazards','clhoverracerdrive','clhumanexpenditureprogram','clhungryknight','clhungrylamu','clhyppersandbox','clice age baby','clicedodo','clicypurplehead','clidlebreakout','clidledice','clidleidlegamedev','clidleminertycoon','clidleminorzamnshes12','climpossiblequiz (1)','climpossiblequiz','climpossiblequiz2','clinclementemerald','clindiantrucksimiulator','clinfinitecraft','clinnkeeper','clinsidestory','clinteractivebuddy','clintoruins','clintospace','clintospace2','clintospace3','clintothedeepweb','clintrusion','cliqball','clironsnout','clironsoldier','cliwbtg','cljacksmith','cljacksmithencryptedorsmthn','cljailbreakobbbobob','cljefflings','cljellydrift','cljellytruck','cljetforcegemini','cljetpackjoyride','cljetrush','cljetskiracing','cljohnnytrigger','cljohnnyupgrade','cljourneydownhill','clJUMP','cljumpingshell','cljustfalllol','cljusthitthebutton','cljustoneboss','clkaizomarioworld','clkalikan','clkapih','clkaratebros','clkarlson','clkartbros','clKenGriffeyJrPresentsMajorLeagueBaseball','clkillerinstinct','clkillover','clkingdomheartsdays','clkingdomheartsrecoded','clkingdomheartsrecodedalt','clkirby64','clkirbyandtheamzingmirror','clkirbysadventure','clkirbysdreamland','clkirbysdreamland3','clkirbysqueaksquad','clkirbysuperstar','clkirbysuperstarultra','clkittencannon','clklifur','clknifehit','clknightmaretower','clkoopasrevenge','clkourio','cllaceysflashgames','cllastfirered','cllasthorizon','cllaststand2','clleaderstrike','cllearntofly','cllearntofly2','cllearntofly3','cllearntoflyidle','cllegobatman','cllegobatman2superheroes','cllegoindianajones','cllegoindianajones2','cllegoninjago','cllegostarwars','cllemmings','clleveldevil','clleverwarriors','cllightitup','cllilrunmo','cllinerider','cllinktothepast','cllittlerunmo','cllockthedoor','clloderunner','cllonewolf','cllosangelesshark','cllowknight','clloz1','cllozlinkawakening','cllozminishcap','cllozoracleofseasons','cllozspirittracks','clluckyblocks','clmadalinstuntcars','clmadden93','clmadden94','clmadden95','clmadden96','clmadden98','clmadden99','clmaddenfootball','clmaddenfootball64','clmaddennfl','clmaddennfl2000','clmaddennfl2001','clmaddennfl2002','clmaddy98','clmadnessaccelerant','clmadnesscombatdefense','clmadnesscombatnexus','clmadnessgemini','clmadnesshydraulic','clmadnessoffcolor','clmadnesspremediation','clmadnessretaliation','clmadnessstand','clmadskillsmotocross2','clmagictiles3','clmajorasmask','clmakesureitsclosed','clmanagod','clmario3','clmarioandluigisuperstarsaga','clmariocombat','clmariogolf','clMarioisMissingDoneRight','clmariokart64','clmariokartds','clmariokartsupercircuit','clmariomadness','clmariomonusrabbids','clmariopaint','clmarioparty','clmarioparty2','clmarioparty3','clmariopartyds','clmariosmysterymeat','clmariotennis','clmaskedforcesunlimited','clmastermindworldconquerer','clmatrixrampage','clmcfpsfbhd','clmcraerally','clmeatboy','clmeatboyflash','clmedalofhonor','clmedievalshark','clmegachess','clmegaman','clmegaman2','clmegaman2gba','clmegaman3','clmegaman4','clmegaman5','clmegaman6','clmegaman7','clmegaman8','clmegamanglegendss','clmegamanx','clmegamanx2','clmegamanx3','clmegamanx4','clmegamanzero','clmegamanzx','clmegaminer','clmelonplayground','clmergeroundracers','clmetalgear','clmetalgearsolid','clmetalgearsolidps','clmetalslugadvance','clmetalslugmission1','clmetalslugmission2','clMetalSonicHyperdrive','clmetroid','clmetroid2','clmetroidfusion','clmetroidzeromission','clmiamishark','clmicromages','clmightyknight','clmightyknight2','clmimic','clmindscape','clminecraft1-8-8','clminhero','clminicrossword','clminimart','clminishooters','clminitooth','clmiraginewar','clmisslecommand','clmk4ampedup','clmmwilywars','clmobcontrolhtml5','clmobiusrevolution','clmoneyrush','clmonkeymart','clmonstertracks','clmonstertruckport_stunt','clmortalkombat','clmortalkombat2','clmortalkombat3','clmortalkombatadvance','clmortkom4','clmotherload','clmotoroadrash','clmotox3m','clmotox3m2','clmotox3m3','clmotox3mm','clmotox3mpoolparty','clmotox3mspookyland','clmotox3mwinter','clmountainbikeracer','clmrracer','clmspacman','clmultitask','clmutilate-a-doll','clmyfriendpedro','clmyfriendpedroarena','cln','clNBAhangtime','clNBAjam','clnbajamTE','clneonblaster','clneonrider','clnetattack','clnewgroundsrumble','clnewsupermariobros','clNewSuperMarioWorld2AroundtheWorld','clnewyorkshark','clnextdoor','clnflblitz','clnfscarbonowncity','clnfsmostwanted','clnfsporcheunleashed','clnfsunderground','clnfsunderground2','clngon','clnhl2002','clnhlhitz2003','clNicktoonsFreezeFrameFrenzy','clnightclubshowdown','clnightfire','clnightshade','clninjabrawl','clnintendogslab','clnintendoworldcup','clnitromemustdie','clnoobminer','clnotyourpawn','clnplus','clnubbysnumberfactory','clnullkevin','clNutsandBoltsScrewingPuzzle','clnzp','clobbyonlyup','clobeythegame','clocarinaoftime','clofflineparadise','clomeganuggetclicker','clonebitadventure','clonenightasfreddy','clonepiece','clonepiecefighting','clonlyup','cloperius','cloppositeday','clopposumcountry','clorbofcreation','clordinarysonicromhack','closu','clovo','clovo2','clovodimensions','clovofixed','clpacman','clpacmansuperfast','clpapabakeria','clpapadonut','clpapalouienighthunt2','clpapalouiewhenburgersattack','clpapalouiewhenpizzasattack','clpapalouiewhensundaesattack','clpapascheeseria','clpapascupcakeria','clpapasfreezeria','clpapashotdoggeria','clpapaspancakeria','clpapasspastaria','clpapasscooperia','clpapassushiria','clpapastacomia','clpapaswingeria','clpaperio','clpaperio3d','clpaperiomania','clpapermario','clpapermariopromode','clpapermariottyd','clparappatherapper','clparkingfury','clparkingfury2','clparkingfury3','clparkingrush','clpartnersintime','clpeacekeeper','clpenaltykicks','clpenguindiner','clpenguinpass','clpepsiman','clperfectdark','clperfecthotel','clpersona','clpersona2','clphasma','clpheonixjusticeforall','clpheonixtrialsandyeartrhfasd','clphoenixrightaceattorney','clpico8','clpicodriller','clpicohot','clpicolife','clpiconightpunkin','clpicosschool','clpicovsbeardx','clpiecesofcake','clpikwip','clpingpongchaos','clpinkbike','clpitfall','clpixelbattlegroundsio','clpixelcombat2','clpixelshooter','clpixelspeedrun','clpixelwarfare','clpizzapapa','clpizzatower','clplangman','clplantsvszombies','clplazmaburst','clplinko','clplonky','clpogo3D','clpokebattlefact','clpokeblack','clpokeblazeblack2redux','clpokeblue','clpokecrystalclear','clpokediamond','clpokeemeraldrandom','clpokeflora','clpokegaia','clpokeheartgold','clpokelightplatinum','clpokeliquidcrysta','clpokemegamoemon','clpokemonamnesia','clpokemonclover','clpokemoncrystal','clpokemonemerald','clpokemonemeraldcrest','clpokemonemeraldkaizo','clpokemonemeraldmini','clPokemonemeraldrouge','clpokemonemeraldseaglass','clpokemonfirered','clpokemonfireredandleafgreenplusedition','clpokemonfireredrandomized','clpokemongold','clpokemonleafgreen','clpokemonmysterydungeon','clpokemonquetzal','clPokemonrocketedition','clpokeruby','clpokemonsapphire','clpokemonshinsigma','clpokemonsilver','clpokemonsnap','clpokemonstadium','clpokemontowerdefense','clpokemonultimatefusion','clpokemonunbound','clpokemonvega','clpokemysteryexplorersofsky','clpokepearl','clpokeplatinum','clpokeplatinumrandomized','clpokered','clpokerunandbun','clpokescorchedsilver','clpokesoulsilver','clpokeultraviolet','clpokevega','clpokevoltwhite2redux','clpokevoyager','clpokewhite','clpokeyellow','clPokémonstunningsteel','clpolicepursuit2','clporklike','clportal','clportal2d','clportaldefendersfastbreak','clportaldefendersTD','clportalflash','clporter','clpossessquest','clpotatomanseeksthetroof','clpou','clpraxisfighterx','clprebronzeage','clprecivilationbronzeage','clprehistoricshark','clprimary','clpullfrog','clpunchout','clpunchthedrump','clpuppethockey','clpushyourluck','clpuyopuyfever','clpvz','clpyrotoad','clqbert','clquake2','clquake3','clquake64','clquickieworld','clqwop','clracemaster3d','clracingarena','clradicalred','clradracer','clraftwars','clraftwars2','clragdollarchers','clragdollhit','clragdollio','clragdollsoccer','clrainbowsix','clray1','clray2','clrayman','clraze','clraze2','clraze3','clreachthecore','clrealflightsim','clrecoil','clredball','clredball2','clredball3','clredball44','clredball4vol2','clredball4vol3','clredhanded','clredtierunner','clredvsblue2','clredvsbluewar','clreignofcentipede','clrenegades','clresidentevil2','clresizer','clresortempire','clretro-bowl','clretrobowl','clretropingpong','clreturnman','clreturnman2','clreturntoriddleschool','clrevolutionidle','clrhythmheaven','clrhythymymheaven','clricochetkills2','clriddlemiddleschool','clriddleschool','clriddleschool2','clriddleschool3','clriddletransfer','clriddletransfer2','clridgeracer','clroadoffury','clroadofthedead','clroadofthedead2','clrocketjump','clrocketknightadventures','clrocketleague','clrocketpult','clrocketsoccerderby','clrodha','clroguesoul','clroguesoul2','clrollerball','clrollingksky','clrollyvortex','clrooftopsnipers','clrooftopsnipers2','clroomclicker','clrotate','clrouletteknight','clruffle','clrun','clrun2','clrun3','clrussiancardriver','clsandboxcity','clsandboxels','clsandsofthecoliseum','clsandtris','clsantaarun','clsaszombieassault2','clscarymazeagame','clscarletshift','clscrapmetal3','clscrapyarddog','clscribblenauts','clscubabear','clseamongrel','clsecretofmana','clsentryfortress','clservingupmadness','clsfk','clsfk2','clsfklaststand','clsfkleague','clshaggy','clshc1','clshc2','clshc3','clshift','clshift2','clshift3','clshinmegamitenseidevilsurvivor','clshortlife','clshredmill','clshrek2','clshrubnaut','clshwultimatem','clsidepocket','clsierra7','clsilenthill','clsilk','clsiloshowdow','clSINGLEFILE','clsixwaystodie','clskateit','clskong','clskyrace3d','clsleerintrtove','clsliceitall','clslideinthewoods','clslimelabratory','clslipways','clslitherio','clslope','clslope2player','clslope3','clslopeplus','clslotornot','clslowroads','clsm63redux','clsmadvance2','clsmadvance3','clsmashartsworking','clsmashkarts','clsmashremix','clsmbc','clsmbcrossover','clsnailbob','clsnakeis','clsnakelike','clsnipershot','clsniperv2','clsnowballio','clsnowrid','clsnowrideee','clsnowrider','clsnowroad','clsoccerbros','clsoccerrandom','clsoccerrandomgood','clsolarsmash','clsolitaire','clsonic1contemporary','clSonic1ScoreRush','clSonic2ScoreRush','clsonic3andknuckles','clsonic3complete','clsonic3dblastdx','clsonicadvance','clsonicadvance2','clsonicadvance2sp','clsonicadvance3','clsonicandashuro','clsonicandknuckles','clsonicbattle','clsoniccd','clsonicclassiccollection','clsonicclassicheroes','clsoniccolors','clsonicdeltaorigins','clsonicgg','clSonicHellfireSaga','clsonicjam','clsonicmegamix','clsonicr','clsonicralt','clsonicrevert','clsonicrush','clsonicrushadventure','clsonicspinball','clsonicthehedgehog','clsonicthehedgehog2','clsonicthehedgehog3','clsonny2','clsouljumper','clspacebarclicker','clspacecompany','clspaceinvaders','clspaceiskey','clspaceiskey2','clspaceiskeyxmas','clspacewarsbattleground','clspacewaves','clspeedstars','clspewer','clspiralroll','clsprunked','clsprunki','clsprunkiclicker','clsquidplayground','clstackballio','clstacktris','clstackydash','clstarfox','clstarfox64','clstarraiders','clstateio','clstation141','clstationmeltdown','clstealthassassin','clstealthmaster','clsteelempire','clstickarchersbattle','clstickmanandguns','clstickmanclash','clstickmanduel','clstickmangtacity','clstickmanhook','clStickmanKingdomclash','clstickmankombat2d','clstickmanstealingdiamond','clstickmerge','clstickminairship','clstickminbreakingbank','clstickminescapingprison','clstickminfleecomplex','clstickrpgcomplete','clstickslasher','clstickwar','clstickwar2','clstormthehouse','clstormthehouse3','clstrangejournet','clstreangeropepolice','clstreetfighter2','clstreetfighter2turbo','clstreetfighteralpha3','clstreetofrage','clstreetofrage2','clstreetofrage3','clstrikeforceheroes','clstrikeforceheroes2','clstrikeforceheroes3','clstylesavvy','clsubwaysurfersbarcelona','clsubwaysurfersbeijing','clsubwaysurfersberlin','clsubwaysurfersbuenosaires','clsubwaysurfershavana','clsubwaysurfershouston','clsubwaysurfersiceland','clsubwaysurferslondon','clsubwaysurfersmexico','clsubwaysurfersmiami','clsubwaysurfersmonaco','clsubwaysurfersneworleans','clsubwaysurferssanfrancisco(1)','clsubwaysurferssanfrancisco','clsubwaysurfersstpetersburg','clsubwaysurferswinterholiday','clsubwaysurferszurich','clsugarsugar','clsuika','clsuikapico','clsunandmoon','clsuperbomberman','clsuperbomberman2','clsuperbomberman3','clsuperbomberman4','clsuperbomberman5','clsupercarrush','clsupercastlevaniaVI','clsuperchibiknight','clsuperdarkdeception','clsuperdiagonalmario2','clsuperfighters','clsuperhot','clsuperhotlinemiami','clsuperhouseofdeadninjas','clsuperliquidsoccer','clsupermario','clsupermario63','clsupermario64','clsupermario64ds','clsupermarioallstars','clsupermariobros','clsupermariobros2','clsupermariobros2us','clsupermariobros3','clsupermariobros3real','clsupermariokart','clsupermarioland','clsupermarioland2','clsupermariorpg','clsupermarioworld','clsupermarioworld2','clSuperMarioWorldThe SecretOfThe7GoldenStatues','clsupermetroid','clsupermonkeyballjr','clsupernoahsark3D','clsuperoliverworld','clsuperpunchout','clsuperpuzzlefighter2turbo','clsuperpuzzlefighter2turboalt','clsuperscribblenauts','clsuperslandadventure','clsupersmashbros','clsupersmashflash','clsupersmashflash2','clsupersmashflash2butdifversion','clsupertiltbros','clsupitdept','clsupremeduelist','clsurvevio','clsurvivalracev2','clsushicat','clsushicat2','clsushiunroll','clswerve','clswitchblade','clswordandshieldultimateplus','clswordfight','clswordplay','clswordsandsandals','clswordsandsandals2','clswordsandsouls','clsydneyshark','cltabletanks','cltabletennisworldtour','cltag','cltag3','clTaikonoTatsujin','cltaisei','cltakeover','cltallmanrun','cltankmayhem','cltankpixel','cltanukisunset','cltanukisunsetuhhhhhhhh','cltapper','cltaproad','cltastyplanet','cltboilambeternal','cltecmobowl','cltelephonetrouble','cltelocation','cltempest2000','cltempleofboom','cltemplerun2','cltempoverdose','clterra','clterritorialio','clterritorywar','cltetris','cltetrisattack','cltetrisgba','clthanksforremindingmeihadtofixthis','cltheclassroom','cltheclassroom2','cltheclassroom3','clthedeadseat','clthedeepestsleep','cltheenchantedcave2','cltheimpossiblegame','clthelaststand','clthelaststandunioncity (cltobeaddeddonotremove','clthelaststandunioncity','clthemaninthewindow','clthemepark','clthepit','clthereisnofile','clthermomorph','clthisistheonlylevel','clthisistheonlylevel2','clthisistheonlyleveltoo','clthreegoblets','clthrowapotato','clthrowapotatoagain','clthwack','cltimeshooter2','cltimeshooter3','cltimewarriors','cltinyfishing','cltmnt','cltoastarling','cltoasterball','cltombofthemask','cltombofthemass','cltomodachicollection','cltonyhawkproskater','cltonyhawkskater2','cltonyhawkskater4','cltonyhawksunderground','cltoomanytypes','cltopspeedracing3d','cltosstheturtle','cltotm','cltowerblocks','cltowercrash3d','cltrace','cltrafficjam3d','cltrapthecat','cltrechoroustrials','cltripleplay2000','cltriviacrack','cltrucksim','cltubejumpers','cltunnelrush','cltunnelrushbetter','clturbostars','clturokdinosaurhunter','cltwistedmetal','cltwistedmetal2','cltwoball3d','clucds','cluckyblockobbyEUOPHRATESRIVER','clufoswampoddysey','clultimateassassian2','clultimateassassian3','clUltimatecardrivingsimulator','clultimatemortalkombat','clultimatemortalkombat3','clultrakill','clumstickmangameidkiforgor','cluncannycatgolf','clunderneath','clundertaler','clundertaleyellow','clunfairmario','clunfairmarioworkquestionmark','clunfairundyne','clunicyclehero','cluno','clupgradecomplete','clupgradecomplete2','clupslash','clUZG','clvampiresurvivors','clvanguard','clvaportrails','clvermhole','clvex','clvex2','clvex3','clvex3xmas','clvex4','clvex5','clvex6','clvex7','clvex8','clvexchallenges','clvexx3m','clvexx3m2','clvillager','clvolleyrandom','clvollyballchallenge','clwaluigitacostand','clwarfare1944','clwarioland4','clwariowarediy','clwariowareinc','clwartheknight','clwaterpoolio','clwavedash','clwaverace64','clwaverun','clwebecomewhatwebehold','clwebfishing','clweltling','clwhackthetheif','clwhackyourboss','clwhackyourcomputer','clwindowsdoors','clwinterfalling','clwipeout2097','clwolfenstein','clwolfenstein3d','clwoodworm','clwordle','clworldcup9Road','clworldshardestgame','clworldshardestgame2','clworldshardestgame3','clworldshardestgame4','clwrestlebros','clXevious','clyanderesimulator','clyellow','clzelda2thelegendoflink','clzombieroad','clzombopaclypse2','clzombotron','clzombotron2','clzombotronreboot','clzrist','clzuma','marbleracer','mariobuilder64','mortalkombat4','polytrack','rocketknight2','sandstone','snowbros'
        ];

        // REMOVE LIST
        const REMOVE = new Set([
            'clthisistheonlylevel','clthisistheonlylevel2','clthisistheonlyleveltoo',
            'clHiNoHomo','clcs1.6','cl9007199254740992','cltobeaddeddonotremove','clyswillbeaddeddonotremove',
            'clicantbelievegoogleflaggedmeforthenameofthefilelol','clskibididibidygyattohiorizzingallovertheplacestillwatermangotheoryfemboydrool',
            'clskibidiinthebackrooms','clnomoregameasdsadfagfggdfs','clobby-99-will-lose',
            'clstealabrainrot','clstealabrainrotbutnotflaagedlololo','clstealbrainrtonline',
            'clluckyblockobbyEUOPHRATESRIVER','clumstickmangameidkiforgor','clthanksforremindingmeihadtofixthis',
            'clriddleschool445544444$444$444','clfreegemas','clormmimastickwithclsoitcanberememberedoyeahclalienhominid',
            'clpapasburgerIIIAAAAA','clpapapizzagoody','clpapapizzamamamia','cltanukisunsetuhhhhhhhh',
            'clsnowriderrrr','clsnowridergoodygumdrops','clgunmayhem2goof','cljellytruckgood',
            'clmadalinstuntcarsgood','clmadalinstuntcarsmultiplayerfixed','clpolytrack','clpolytrackalt',
            'clpolytrackgood','clpolytrackworksnow','clretrobowlfixed','clunfairmarioworkquestionmark',
            'clabandoned32','claceattorernefgsdg','clachillies1fr','clasteroidsALT','clballsandbricksgood',
            'clbasketballlegendsgoodywoody','clbasketrandomgood','clbigtowertinysquare2good',
            'clcatmariogood','cldoompsalt','cldoodlejumpgoober','clgoodbigtowertinysquare',
            'clgoodbigtowertinysquare2','clgoodmonkeymart','clgta22','clgta2alt','clgtaalt',
            'clgtachina','clmadnesss2010','clmonkeymartenc','clparappatherapperalt','clpepsimanalt',
            'clpersona2alt','clpersonaalt','clpokeblack2.html','clpokeblack2alt','clpokeblackalt',
            'clpokemonemeraldimperium','clpokemonenergizedemerald','clpokemonevolvedsfdgsdfs',
            'clpokewhite2alt','clrainbowsixalt','clsilenthillalt','clsonicralt','clsuperpuzzlefighter2turboalt',
            'clsupersmashflash2butdifversion','clfpa4to remove','clthelaststandunioncity (1)',
            'clpokewite2','clpixelquestlostids','clsubwaysurfersbarcelona','clsubwaysurfersbeijing',
            'clsubwaysurfersberlin','clsubwaysurfersbuenosaires','clsubwaysurfershavana',
            'clsubwaysurfershouston','clsubwaysurfersiceland','clsubwaysurferslondon',
            'clsubwaysurfersmexico','clsubwaysurfersmiami','clsubwaysurfersmonaco',
            'clsubwaysurfersneworleans','clsubwaysurferssanfrancisco(1)','clsubwaysurferssanfrancisco',
            'clsubwaysurfersstpetersburg','clsubwaysurferswinterholiday','clsubwaysurferszurich'
        ]);

        const CLEAN_FILES = GAMES.filter(f => !REMOVE.has(f));
        let favorites = new Set();

        function init() {
            if(localStorage.getItem('favs')) favorites = new Set(JSON.parse(localStorage.getItem('favs')));
            renderGrid(CLEAN_FILES);
            renderSidebar(CLEAN_FILES);
            renderFavs();
        }

        // Clean up filenames
        function getName(f) { return f.replace(/^cl/, '').replace(/(\d+)$/, ' $1'); }

        function renderGrid(files) {
            const container = document.getElementById('games-container');
            container.innerHTML = '';
            
            // Chunking for performance
            const groups = {};
            files.forEach(f => {
                const c = getName(f).charAt(0).toUpperCase();
                const key = /[A-Z]/.test(c) ? c : '#';
                if(!groups[key]) groups[key] = [];
                groups[key].push(f);
            });

            const keys = Object.keys(groups).sort();
            keys.forEach(k => {
                const sec = document.createElement('section');
                sec.id = `sec-${k}`;
                sec.className = "mb-10";
                sec.innerHTML = `<h2 class="text-3xl font-black text-slate-800 mb-4 select-none">${k}</h2>`;
                const grid = document.createElement('div');
                grid.className = "grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3";
                
                groups[k].forEach(f => {
                    grid.appendChild(createCard(f));
                });
                sec.appendChild(grid);
                container.appendChild(sec);
            });
        }

        function createCard(f) {
            const div = document.createElement('div');
            const name = getName(f);
            const isFav = favorites.has(f);
            div.className = "game-card bg-charcoal border border-white/5 rounded p-4 cursor-pointer relative group h-24 flex flex-col justify-between overflow-hidden";
            div.onclick = () => launch(f);
            div.innerHTML = `
                <div class="font-bold text-xs text-slate-300 group-hover:text-white truncate relative z-10">${name}</div>
                <div class="flex justify-between items-end relative z-10">
                    <span class="text-[10px] font-mono text-slate-500">HTML5</span>
                    <button class="fav-btn p-1 ${isFav ? 'text-red-500' : 'text-slate-600 hover:text-red-500'}">♥</button>
                </div>
                <div class="absolute inset-0 bg-gradient-to-tr from-accent/20 to-transparent opacity-0 group-hover:opacity-100 transition"></div>
            `;
            div.querySelector('.fav-btn').onclick = (e) => { e.stopPropagation(); toggleFav(f); };
            return div;
        }

        function renderSidebar(files) {
            const sb = document.getElementById('sidebar');
            const keys = new Set();
            files.forEach(f => {
                const c = getName(f).charAt(0).toUpperCase();
                keys.add(/[A-Z]/.test(c) ? c : '#');
            });
            [...keys].sort().forEach(k => {
                const a = document.createElement('a');
                a.href = `#sec-${k}`;
                a.textContent = k;
                a.className = "w-8 h-8 flex items-center justify-center rounded text-slate-500 hover:bg-white/10 hover:text-white font-mono font-bold text-xs transition";
                sb.appendChild(a);
            });
        }

        function toggleFav(f) {
            if(favorites.has(f)) favorites.delete(f); else favorites.add(f);
            localStorage.setItem('favs', JSON.stringify([...favorites]));
            renderGrid(CLEAN_FILES); // Refresh to update hearts
            renderFavs();
        }

        function renderFavs() {
            const el = document.getElementById('fav-section');
            const grid = document.getElementById('fav-grid');
            grid.innerHTML = '';
            if(favorites.size === 0) { el.classList.add('hidden'); return; }
            el.classList.remove('hidden');
            favorites.forEach(f => grid.appendChild(createCard(f)));
        }

        function launch(f) {
            const url = BASE_PATH + f + '.html';
            const m = document.getElementById('modal');
            const fr = document.getElementById('game-frame');
            document.getElementById('modal-title').textContent = getName(f);
            m.classList.remove('hidden');
            m.classList.add('flex');
            fr.src = url;
            fr.onload = () => document.getElementById('loader').style.display = 'none';
        }

        function closeModal() {
            document.getElementById('modal').classList.add('hidden');
            document.getElementById('modal').classList.remove('flex');
            document.getElementById('game-frame').src = 'about:blank';
            document.getElementById('loader').style.display = 'flex';
        }

        function toggleFS() {
            const el = document.getElementById('game-frame');
            if(el.requestFullscreen) el.requestFullscreen();
        }
        
        function pickRandom() {
            launch(CLEAN_FILES[Math.floor(Math.random() * CLEAN_FILES.length)]);
        }

        // Search
        document.getElementById('search').addEventListener('input', (e) => {
            const term = e.target.value.toLowerCase();
            const cards = document.querySelectorAll('.game-card');
            cards.forEach(c => {
                c.style.display = c.innerText.toLowerCase().includes(term) ? 'flex' : 'none';
            });
        });

        // Shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.key === 'k') { e.preventDefault(); document.getElementById('search').focus(); }
        });

        init();
    </script>
</body>
</html>
